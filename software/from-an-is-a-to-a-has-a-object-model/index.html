<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>From an “is-a” to a “has-a” Object Model - Halogenica</title>
  <meta name="description" content="When evolving my rough particle system into a (very targeted) game engine, I started to learn why object oriented design has gone out of favor for many game engines. From a design standpoint, the particle system was a learning project where I tried to leverage C&#43;&#43; inheritance as much as I could. For the game engine, I attempted to model my game objects using an inheritance structure as well. I felt that in the real world, nearly everything falls into some sort of classification, often with distinct parent-child relationships. However, as I began adding game specific objects to my engine, I realized that not only is it prohibitively difficult to try to model the real world (the way I felt it should be modeled) due to the sheer volume and complexity, but game objects are simply an approximation of real world occurrences, and as such they tend to &ldquo;cheat&rdquo; to achieve a certain effect. Objects in a game can choose to be invisible, or defy the laws of physics. This basically breaks whatever elegant classification structure I had planned. Luckily, this can be addressed by converting from an &ldquo;is-a&rdquo; model (where an Object &ldquo;is a&rdquo; physics-based object) to a &ldquo;has-a&rdquo; model, (where an object &ldquo;has a&rdquo; physics component). In this model, objects will contain pointers to optional collections of data and functionality.">
  <meta name="author" content="Michael Romero"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Halogenica",
    
    "url": "https:\/\/romero.dev"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/romero.dev"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/romero.dev",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/romero.dev\/software\/from-an-is-a-to-a-has-a-object-model\/",
          "name": "From an “is a” to a “has a” object model"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Mike"
  },
  "headline": "From an “is-a” to a “has-a” Object Model",
  "description" : "When evolving my rough particle system into a (very targeted) game engine, I started to learn why object oriented design has gone out of favor for many game engines. From a design standpoint, the particle system was a learning project where I tried to leverage C\x2b\x2b inheritance as much as I could. For the game engine, I attempted to model my game objects using an inheritance structure as well. I felt that in the real world, nearly everything falls into some sort of classification, often with distinct parent-child relationships. However, as I began adding game specific objects to my engine, I realized that not only is it prohibitively difficult to try to model the real world (the way I felt it should be modeled) due to the sheer volume and complexity, but game objects are simply an approximation of real world occurrences, and as such they tend to \x26ldquo;cheat\x26rdquo; to achieve a certain effect. Objects in a game can choose to be invisible, or defy the laws of physics. This basically breaks whatever elegant classification structure I had planned. Luckily, this can be addressed by converting from an \x26ldquo;is-a\x26rdquo; model (where an Object \x26ldquo;is a\x26rdquo; physics-based object) to a \x26ldquo;has-a\x26rdquo; model, (where an object \x26ldquo;has a\x26rdquo; physics component). In this model, objects will contain pointers to optional collections of data and functionality.\n",
  "inLanguage" : "en",
  "wordCount":  1077 ,
  "datePublished" : "2011-04-22T00:00:00",
  "dateModified" : "2011-04-22T00:00:00",
  "image" : "https:\/\/romero.dev",
  "keywords" : [ "Software, Game Engine" ],
  "mainEntityOfPage" : "https:\/\/romero.dev\/software\/from-an-is-a-to-a-has-a-object-model\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/romero.dev",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/romero.dev",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="From an “is-a” to a “has-a” Object Model" />
<meta property="og:description" content="When evolving my rough particle system into a (very targeted) game engine, I started to learn why object oriented design has gone out of favor for many game engines. From a design standpoint, the particle system was a learning project where I tried to leverage C&#43;&#43; inheritance as much as I could. For the game engine, I attempted to model my game objects using an inheritance structure as well. I felt that in the real world, nearly everything falls into some sort of classification, often with distinct parent-child relationships. However, as I began adding game specific objects to my engine, I realized that not only is it prohibitively difficult to try to model the real world (the way I felt it should be modeled) due to the sheer volume and complexity, but game objects are simply an approximation of real world occurrences, and as such they tend to &ldquo;cheat&rdquo; to achieve a certain effect. Objects in a game can choose to be invisible, or defy the laws of physics. This basically breaks whatever elegant classification structure I had planned. Luckily, this can be addressed by converting from an &ldquo;is-a&rdquo; model (where an Object &ldquo;is a&rdquo; physics-based object) to a &ldquo;has-a&rdquo; model, (where an object &ldquo;has a&rdquo; physics component). In this model, objects will contain pointers to optional collections of data and functionality.">
<meta property="og:url" content="https://romero.dev/software/from-an-is-a-to-a-has-a-object-model/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Halogenica" />

  <meta name="twitter:title" content="From an “is-a” to a “has-a” Object Model" />
  <meta name="twitter:description" content="When evolving my rough particle system into a (very targeted) game engine, I started to learn why object oriented design has gone out of favor for many game engines. From a design standpoint, the …">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@halogenica" />
  <meta name="twitter:creator" content="@halogenica" />
  <link href='https://romero.dev/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.58.3" />
  <link rel="alternate" href="https://romero.dev/index.xml" type="application/rss+xml" title="Halogenica"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://romero.dev/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://romero.dev/css/highlight.min.css" /><link rel="stylesheet" href="https://romero.dev/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<link rel="stylesheet" href="https://romero.dev/css/custom.css" />


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://romero.dev">Halogenica</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Games" href="https://romero.dev/games/">Games</a>
            </li>
          
        
          
            <li>
              <a title="Graphics" href="https://romero.dev/graphics/">Graphics</a>
            </li>
          
        
          
            <li>
              <a title="Tools" href="https://romero.dev/tools/">Tools</a>
            </li>
          
        
          
            <li>
              <a title="Software" href="https://romero.dev/software/">Software</a>
            </li>
          
        
          
            <li>
              <a title="Hardware" href="https://romero.dev/hardware/">Hardware</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="https://romero.dev/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="About" href="https://romero.dev/about">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>From an “is-a” to a “has-a” Object Model</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on April 22, 2011
  
  
  
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>When evolving my rough particle system into a (very targeted) game engine, I started to learn why object oriented design has gone out of favor for many game engines. From a design standpoint, the particle system was a learning project where I tried to leverage C++ inheritance as much as I could. For the game engine, I attempted to model my game objects using an inheritance structure as well. I felt that in the real world, nearly everything falls into some sort of classification, often with distinct parent-child relationships. However, as I began adding game specific objects to my engine, I realized that not only is it prohibitively difficult to try to model the real world (the way I felt it should be modeled) due to the sheer volume and complexity, but game objects are simply an approximation of real world occurrences, and as such they tend to &ldquo;cheat&rdquo; to achieve a certain effect. Objects in a game can choose to be invisible, or defy the laws of physics. This basically breaks whatever elegant classification structure I had planned. Luckily, this can be addressed by converting from an &ldquo;is-a&rdquo; model (where an Object &ldquo;is a&rdquo; physics-based object) to a &ldquo;has-a&rdquo; model, (where an object &ldquo;has a&rdquo; physics component). In this model, objects will contain pointers to optional collections of data and functionality.</p>

<p>Here is an example. Lets take a simple shape, like a cube, and distill the common information that defines a cube into a parent &ldquo;Cube&rdquo; class. This is basically the geometric configuration of a cube (vertices, position, orientation). Naturally we would probably want to render this cube so we can see it on the screen, so Cube will come equipped with a &ldquo;Draw()&rdquo; function, so any child of Cube will know how to draw itself to the screen. Cube will inherit from a Shape, which declares an interface for Draw. Now one obvious way to think of a cube is as a solid, physical object that you can pick up and throw, it bounces around, and you can interact with it. In programming land, that means that this cube has a bunch of physics data. If I want to put this sort of cube in my world, it&rsquo;s as simple as inheriting from the Cube class and adding some physics specific information. Let&rsquo;s call this class &ldquo;CubePhysics&rdquo;. But what happens when you want to use the cube shape as a bounding box, with collision response, but obviously as a bounding box it is not visible to the player. Well, now things start to look out of place because your CubePhysics object inherits from a Cube object, which has render information defined in it. Sure you could use it and just ignore the render data, but this results in a lot of wasted data, and can be extremely confusing if you only partially define your object.</p>

<p>Taking this another step further, what if you wanted a Cube with some kind of AI functionality? In a is-a model, you would inherit from a definition of a Cube and add AI information and functionality. However, which definition of Cube do you inherit from? If you only inherit from Cube, you don&rsquo;t get physics. However, if you inherit from CubePhysics you get the physics, but potentially extraneous render functionality. And you certainly don&rsquo;t want to create two separate classes that each inherit from a Cube object and CubePhysics object.</p>

<p>Another example would be the notion of a Particle in the particle system. A Particle is some base class of whatever is intended to be spawned by the emitter. Lets assume that a Particle only requires render information, and that the emitter handles the physics for us. Should Particle inherit from Cube? Certainly not; what if we wanted to use a sphere or a conic shape?</p>

<p>When starting with a small subset of functionality, the typical object inheritance model may seem like a nice, elegant object model. My particle system for example initially only had a Particle class, and a Cube class which inherited from Particle. Simple polymorphism allowed me to use any arbitrary shape in the emitter. Unfortunately, as the project expanded, this inheritance structure exploded. I simply needed an easier way to pick and choose which laws and properties I wanted to utilize, and which I wanted to ignore. This boils down to using a &ldquo;has-a&rdquo; object model, where a particular game object may have physics or it may not, and likewise for rendering, AI, animation, etc. The book <a href="https://smile.amazon.com/Engine-Architecture-Third-Jason-Gregory/dp/1138035459">Game Engine Architecture</a> compares and contrasts the is-a and has-a object models, citing engines such as the Unreal 2 engine as an example of how inheritance structures can become complex and unwieldy. The exact implementation of the has-a object model can vary greatly between game engines, and the following implementation is still a work in progress.</p>

<p>Here is a look at some of the classes I had when developing using an &ldquo;is-a&rdquo; model, and what it was starting to look like:</p>

<p>
<link rel="stylesheet" href="https://romero.dev/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="https://romero.dev/img/software/from-an-is-a-to-a-has-a-object-model/is-a-model.png" alt="/img/software/from-an-is-a-to-a-has-a-object-model/is-a-model.png"/>
    </div>
    <a href="https://romero.dev/img/software/from-an-is-a-to-a-has-a-object-model/is-a-model.png" itemprop="contentUrl"></a>
  </figure>
</div>

Black arrows denote inheritance.</p>

<p>And here is the same functionality refactored using a &ldquo;has-a&rdquo; model:</p>

<p>

<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="https://romero.dev/img/software/from-an-is-a-to-a-has-a-object-model/has-a-model.png" alt="/img/software/from-an-is-a-to-a-has-a-object-model/has-a-model.png"/>
    </div>
    <a href="https://romero.dev/img/software/from-an-is-a-to-a-has-a-object-model/has-a-model.png" itemprop="contentUrl"></a>
  </figure>
</div>

Clear arrows denote ownership by pointer. Black arrows denote inheritance.</p>

<p>As you can see, the new model significantly cuts down on the specialization and inheritance chain explosion. This model allows for any game object to selectively choose what aspects of interaction they will simulate.</p>

<p>Finally, for those that like code, here&rsquo;s a look at the new game objects.</p>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span><span class="err"> </span><span class="nc">ObjectData</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

    <span class="n">ObjectData</span><span class="p">();</span>
    <span class="n">ObjectData</span><span class="p">(</span><span class="k">const</span> <span class="n">btVector3</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">pos</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">scale</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">D3DCOLORVALUE</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">color</span><span class="p">,</span>
    <span class="kt">short</span> <span class="n">collisionGroup</span> <span class="o">=</span> <span class="n">COL_NOTHING</span><span class="p">,</span>
    <span class="kt">short</span> <span class="n">collisionMask</span> <span class="o">=</span> <span class="n">COL_NOTHING</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">btVector3</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">vel</span> <span class="o">=</span> <span class="n">btVector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
    <span class="o">~</span><span class="n">ObjectData</span><span class="p">();</span>

    <span class="kt">void</span> <span class="n">Draw</span><span class="p">(</span><span class="k">const</span> <span class="n">D3DXMATRIX</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">matVP</span><span class="p">);</span>
    <span class="kt">void</span> <span class="nf">Update</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">);</span>

    <span class="n">RenderData</span><span class="o">*</span>         <span class="n">m_pRenderData</span><span class="p">;</span>
    <span class="n">PhysicsData</span><span class="o">*</span>        <span class="n">m_pPhysicsData</span><span class="p">;</span>
    <span class="n">btVector3</span>           <span class="n">m_pos</span><span class="p">;</span>
    <span class="n">btQuaternion</span>        <span class="n">m_rot</span><span class="p">;</span>
    <span class="kt">float</span>               <span class="n">m_scale</span><span class="p">;</span>
    <span class="n">D3DCOLORVALUE</span>       <span class="n">m_color</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">struct</span> <span class="n">InitRenderData</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="n">D3DVERTEXELEMENT9</span><span class="o">*</span>    <span class="n">pVertexDeclElements</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">Vertex</span><span class="o">*</span>               <span class="n">pVertices</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">short</span><span class="o">*</span>                <span class="n">pIndices</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">DWORD</span>                 <span class="n">NumVertices</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">DWORD</span>                 <span class="n">NumPrimitives</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">DWORD</span>                 <span class="n">NumIndices</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span><span class="err"> </span><span class="nc">RenderData</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

    <span class="n">RenderData</span><span class="p">(</span><span class="n">IDirect3DDevice9</span><span class="o">*</span> <span class="n">pDevice</span><span class="p">,</span> <span class="k">const</span> <span class="n">InitRenderData</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">initRenderData</span><span class="p">);</span>
    <span class="o">~</span><span class="n">RenderData</span><span class="p">();</span>

    <span class="kt">void</span> <span class="n">Draw</span><span class="p">(</span><span class="k">const</span> <span class="n">D3DXMATRIX</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">transform</span><span class="p">);</span>

    <span class="kr">inline</span> <span class="n">DWORD</span> <span class="nf">GetNumPrimitives</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_InitRenderData</span><span class="p">.</span><span class="n">NumPrimitives</span><span class="p">;};</span>
    <span class="kr">inline</span> <span class="n">DWORD</span> <span class="nf">GetNumVertices</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_InitRenderData</span><span class="p">.</span><span class="n">NumVertices</span><span class="p">;};</span>
    <span class="kr">inline</span> <span class="n">DWORD</span> <span class="nf">GetNumIndices</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_InitRenderData</span><span class="p">.</span><span class="n">NumIndices</span><span class="p">;};</span>

    <span class="kr">inline</span> <span class="n">IDirect3DVertexDeclaration9</span><span class="o">*</span> <span class="nf">GetVertexDecl</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_pVertexDecl</span><span class="p">;};</span>
    <span class="kr">inline</span> <span class="n">IDirect3DVertexBuffer9</span><span class="o">*</span> <span class="nf">GetVB</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_pVB</span><span class="p">;};</span>
    <span class="kr">inline</span> <span class="n">IDirect3DIndexBuffer9</span><span class="o">*</span> <span class="nf">GetIB</span><span class="p">(){</span><span class="k">return</span> <span class="n">m_pIB</span><span class="p">;};</span>

<span class="k">private</span><span class="o">:</span>

    <span class="n">IDirect3DDevice9</span><span class="o">*</span>               <span class="n">m_pDevice</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">InitRenderData</span>            <span class="n">m_InitRenderData</span><span class="p">;</span>
    <span class="n">IDirect3DVertexDeclaration9</span><span class="o">*</span>    <span class="n">m_pVertexDecl</span><span class="p">;</span>
    <span class="n">IDirect3DVertexBuffer9</span><span class="o">*</span>         <span class="n">m_pVB</span><span class="p">;</span>
    <span class="n">IDirect3DIndexBuffer9</span><span class="o">*</span>          <span class="n">m_pIB</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">struct</span> <span class="n">InitPhysicsData</span>
<span class="p">{</span>
    <span class="n">btCollisionShape</span><span class="o">*</span> <span class="n">pBtCollisionShape</span><span class="p">;</span>
    <span class="kt">short</span>             <span class="n">CollisionGroup</span><span class="p">;</span>
    <span class="kt">short</span>             <span class="n">CollisionMask</span><span class="p">;</span>
    <span class="n">btScalar</span>          <span class="n">Mass</span><span class="p">;</span>
    <span class="n">btVector3</span>         <span class="n">InitPos</span><span class="p">;</span>
    <span class="n">btQuaternion</span>      <span class="n">InitRot</span><span class="p">;</span>
    <span class="n">btVector3</span>         <span class="n">InitVel</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span><span class="err"> </span><span class="nc">PhysicsData</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

    <span class="n">PhysicsData</span><span class="p">(</span><span class="n">btDiscreteDynamicsWorld</span><span class="o">*</span> <span class="n">pBtDynamicsWorld</span><span class="p">,</span> <span class="k">const</span> <span class="n">InitPhysicsData</span><span class="o">&amp;</span> <span class="n">initPhysicsData</span><span class="p">);</span>
    <span class="o">~</span><span class="n">PhysicsData</span><span class="p">();</span>

    <span class="kt">void</span> <span class="n">UpdatePosition</span><span class="p">(</span><span class="k">const</span> <span class="n">btVector3</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">pos</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">SetPosition</span><span class="p">(</span><span class="k">const</span> <span class="n">btVector3</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">pos</span><span class="p">);</span>
    <span class="kt">void</span> <span class="nf">ResetPhysics</span><span class="p">();</span>
    <span class="kt">void</span> <span class="n">Draw</span><span class="p">(</span><span class="k">const</span> <span class="n">D3DXMATRIX</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">matVP</span><span class="p">);</span>

    <span class="kt">void</span> <span class="nf">RegisterPhysics</span><span class="p">();</span>
    <span class="kt">void</span> <span class="nf">UnregisterPhysics</span><span class="p">();</span>
    <span class="n">btCollisionObject</span><span class="o">*</span> <span class="nf">GetCollisionObject</span><span class="p">();</span>

    <span class="n">btDiscreteDynamicsWorld</span><span class="o">*</span>    <span class="n">m_pBtDynamicsWorld</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">InitPhysicsData</span>       <span class="n">m_InitPhysicsData</span><span class="p">;</span>
    <span class="n">btDefaultMotionState</span><span class="o">*</span>       <span class="n">m_pBtMotionState</span><span class="p">;</span>
    <span class="n">btRigidBody</span><span class="o">*</span>                <span class="n">m_pBtRigidBody</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>

        
          <div class="blog-tags">
            
              <a href="https://romero.dev/tags/software/">Software</a>&nbsp;
            
              <a href="https://romero.dev/tags/game-engine/">Game Engine</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
          
            <li class="next">
              <a href="https://romero.dev/software/scriptable-asset-loading/" data-toggle="tooltip" data-placement="top" title="Scriptable Asset Loading">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:mike@halogenica.net" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/halogenica" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/halogenica" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://reddit.com/u/halogenica" title="Reddit">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-reddit-alien fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/halogenica" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/user/angelkatalyst" title="Youtube">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://itch.io/profile/halogenica" title="Itch.io">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-gamepad fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Michael Romero
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2018
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://romero.dev">Halogenica</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.58.3</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://romero.dev/js/main.js"></script>
<script src="https://romero.dev/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://romero.dev/js/load-photoswipe.js"></script>









    
  </body>
</html>

