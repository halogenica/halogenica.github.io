<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Signed Distance Fields – Part 1 - Halogenica</title>
  <meta name="description" content="Signed Distance Fields, when used in computer graphics, is a way of mathematically defining a scene, which can be both greatly compressed, and scale to any resolution. There&rsquo;s a truly excellent presentation by iq of rgba (Iñigo Quilez) posted on his website http://www.iquilezles.org which he presented at nvscene back in 2008 called &ldquo;Rendering Worlds with Two Triangles&rdquo;. Other powerful examples were presented by smash of fairlight (Matt Swaboda) at GDC earlier this year http://directtovideo.wordpress.com. This is my first expermientation with this rendering technique.">
  <meta name="author" content="Michael Romero"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Halogenica",
    
    "url": "https:\/\/romero.dev"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/romero.dev"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/romero.dev",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/romero.dev\/graphics\/signed-distance-fields\/",
          "name": "Signed distance fields – part 1"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Mike"
  },
  "headline": "Signed Distance Fields – Part 1",
  "description" : "Signed Distance Fields, when used in computer graphics, is a way of mathematically defining a scene, which can be both greatly compressed, and scale to any resolution. There\x26rsquo;s a truly excellent presentation by iq of rgba (Iñigo Quilez) posted on his website http:\/\/www.iquilezles.org which he presented at nvscene back in 2008 called \x26ldquo;Rendering Worlds with Two Triangles\x26rdquo;. Other powerful examples were presented by smash of fairlight (Matt Swaboda) at GDC earlier this year http:\/\/directtovideo.wordpress.com. This is my first expermientation with this rendering technique.\n",
  "inLanguage" : "en",
  "wordCount":  600 ,
  "datePublished" : "2012-11-16T00:00:00",
  "dateModified" : "2012-11-16T00:00:00",
  "image" : "https:\/\/romero.dev",
  "keywords" : [ "Graphics, OpenGL, Shaders" ],
  "mainEntityOfPage" : "https:\/\/romero.dev\/graphics\/signed-distance-fields\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/romero.dev",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/romero.dev",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Signed Distance Fields – Part 1" />
<meta property="og:description" content="Signed Distance Fields, when used in computer graphics, is a way of mathematically defining a scene, which can be both greatly compressed, and scale to any resolution. There&rsquo;s a truly excellent presentation by iq of rgba (Iñigo Quilez) posted on his website http://www.iquilezles.org which he presented at nvscene back in 2008 called &ldquo;Rendering Worlds with Two Triangles&rdquo;. Other powerful examples were presented by smash of fairlight (Matt Swaboda) at GDC earlier this year http://directtovideo.wordpress.com. This is my first expermientation with this rendering technique.">
<meta property="og:image" content="https://romero.dev/img/graphics/signed-distance-fields/distance_fields.png" />
<meta property="og:url" content="https://romero.dev/graphics/signed-distance-fields/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Halogenica" />

  <meta name="twitter:title" content="Signed Distance Fields – Part 1" />
  <meta name="twitter:description" content="Signed Distance Fields, when used in computer graphics, is a way of mathematically defining a scene, which can be both greatly compressed, and scale to any resolution. There&rsquo;s a truly excellent …">
  <meta name="twitter:image" content="https://romero.dev/img/graphics/signed-distance-fields/distance_fields.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@halogenica" />
  <meta name="twitter:creator" content="@halogenica" />
  <link href='https://romero.dev/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.58.3" />
  <link rel="alternate" href="https://romero.dev/index.xml" type="application/rss+xml" title="Halogenica"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://romero.dev/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://romero.dev/css/highlight.min.css" /><link rel="stylesheet" href="https://romero.dev/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<link rel="stylesheet" href="https://romero.dev/css/custom.css" />


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://romero.dev">Halogenica</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Games" href="https://romero.dev/games/">Games</a>
            </li>
          
        
          
            <li>
              <a title="Graphics" href="https://romero.dev/graphics/">Graphics</a>
            </li>
          
        
          
            <li>
              <a title="Tools" href="https://romero.dev/tools/">Tools</a>
            </li>
          
        
          
            <li>
              <a title="Software" href="https://romero.dev/software/">Software</a>
            </li>
          
        
          
            <li>
              <a title="Hardware" href="https://romero.dev/hardware/">Hardware</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="https://romero.dev/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="About" href="https://romero.dev/about">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Signed Distance Fields – Part 1</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on November 16, 2012
  
  
  
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Signed Distance Fields, when used in computer graphics, is a way of mathematically defining a scene, which can be both greatly compressed, and scale to any resolution. There&rsquo;s a truly excellent presentation by iq of rgba (Iñigo Quilez) posted on his website <a href="http://www.iquilezles.org/www/material/nvscene2008/nvscene2008.htm">http://www.iquilezles.org</a> which he presented at nvscene back in 2008 called &ldquo;Rendering Worlds with Two Triangles&rdquo;. Other powerful examples were presented by smash of fairlight (Matt Swaboda) at GDC earlier this year <a href="http://directtovideo.wordpress.com/2012/03/15/get-my-slides-from-gdc2012/">http://directtovideo.wordpress.com</a>. This is my first expermientation with this rendering technique.</p>

<p>So here&rsquo;s an extremely basic GLSL shader I made to learn exactly how the distance fields work. A frequent question when working with signed distance fields, is why march through the scene if you already know the exact distance from your viewpoint to the surface of an object? Well, if you consider the path of a ray fired into a scene, in order to determine the intersection point of that that ray with the implicitly defined surface of one out of many objects, a great deal of math would be involved to determine the exact intersection point; too much for a real time application. The signed distance fields are a way to describe geometry by providing a distance from a given point in 3d space for the entire scene. Combined with ray marching, we can start at the camera and step at least the distance to the nearest surface, but in the direction of the ray. If the ray pointed directly into that nearest surface, the ray would return the intersection point in 3D space. Otherwise, we can run the equation again given a point in 3D space that is that distance along the ray to find a value for the nearest surface. March again, test for intersection, return if we intersected, otherwise continue marching.</p>

<p>To really solidify the algorithm in my brain, I wrote up this little shader. The only input I use is the window dimensions, which are only used for coloring. I hope to soon add shadow computations to provide a true 3D look.</p>


<link rel="stylesheet" href="https://romero.dev/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="https://romero.dev/img/graphics/signed-distance-fields/distance_fields.png" alt="/img/graphics/signed-distance-fields/distance_fields.png"/>
    </div>
    <a href="https://romero.dev/img/graphics/signed-distance-fields/distance_fields.png" itemprop="contentUrl"></a>
  </figure>
</div>

<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="c1">// Distance functions from:
</span><span class="c1">// http://www.iquilezles.org/www/articles/distfunctions/distfunctions.htm
</span><span class="c1"></span>
<span class="n">uniform</span> <span class="n">vec2</span> <span class="n">resolution</span><span class="p">;</span>

<span class="n">vec3</span> <span class="nf">translate</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">in</span> <span class="n">vec3</span> <span class="n">translate</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">mat4</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">mat4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>

    <span class="n">transform</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="n">transform</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
    <span class="n">transform</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">vec3</span><span class="p">(</span><span class="n">inverse</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span> <span class="o">*</span> <span class="n">vec4</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">vec3</span> <span class="nf">scale</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">in</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">mat4</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">mat4</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">scale</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">scale</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">scale</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">vec3</span><span class="p">(</span><span class="n">inverse</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span> <span class="o">*</span> <span class="n">vec4</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">vec3</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">in</span> <span class="n">vec3</span> <span class="n">repeat</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">mod</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">repeat</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">repeat</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">float</span> <span class="nf">sdSphere</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">in</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">length</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span> <span class="o">-</span> <span class="n">scale</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">float</span> <span class="nf">udBox</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">in</span> <span class="n">vec3</span> <span class="n">corner</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">length</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span> <span class="o">-</span> <span class="n">corner</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">float</span> <span class="nf">raymarch</span><span class="p">(</span><span class="n">in</span> <span class="n">vec3</span> <span class="n">ro</span><span class="p">,</span> <span class="n">in</span> <span class="n">vec3</span> <span class="n">rd</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="mf">0.0001</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">farplane</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
    <span class="n">vec3</span> <span class="n">raypos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">vec3</span> <span class="n">boxCorner</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">sphereScale</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">;</span>
    <span class="n">vec3</span> <span class="n">repeatDelta</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">float</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">farplane</span><span class="p">;)</span>
    <span class="p">{</span>
        <span class="n">raypos</span> <span class="o">=</span> <span class="n">ro</span> <span class="o">+</span> <span class="n">t</span><span class="o">*</span><span class="n">rd</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span>  <span class="n">udBox</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="n">translate</span><span class="p">(</span><span class="n">raypos</span><span class="p">,</span> <span class="n">vec3</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span> <span class="n">repeatDelta</span><span class="p">),</span> <span class="n">boxCorner</span><span class="p">),</span>
                        <span class="n">sdSphere</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="n">raypos</span><span class="p">,</span> <span class="n">repeatDelta</span><span class="p">),</span> <span class="n">sphereScale</span><span class="p">));</span> <span class="c1">// distance to nearest object
</span><span class="c1"></span>        <span class="n">t</span> <span class="o">+=</span> <span class="n">h</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="o">&lt;</span> <span class="n">epsilon</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// normalize pixel position
</span><span class="c1"></span>    <span class="n">vec2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">gl_FragCoord</span><span class="p">.</span><span class="n">xy</span><span class="o">/</span><span class="n">resolution</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>

    <span class="c1">// generate a ray with origin ro and direction rd
</span><span class="c1"></span>    <span class="n">vec3</span> <span class="n">ro</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">aspect</span> <span class="o">=</span> <span class="mf">1.6</span><span class="p">;</span> <span class="c1">// resolution.x/resolution.y
</span><span class="c1"></span>    <span class="n">vec3</span> <span class="n">rd</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">vec3</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="o">+</span><span class="mf">2.0</span><span class="o">*</span><span class="n">uv</span><span class="p">)</span><span class="o">*</span><span class="n">vec2</span><span class="p">(</span><span class="n">aspect</span><span class="p">,</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">));</span>

    <span class="c1">// fire the ray and intersect with the scene
</span><span class="c1"></span>    <span class="kt">float</span> <span class="n">t</span> <span class="o">=</span> <span class="n">raymarch</span><span class="p">(</span><span class="n">ro</span><span class="p">,</span> <span class="n">rd</span><span class="p">);</span>

    <span class="c1">// draw black by default
</span><span class="c1"></span>    <span class="n">vec3</span> <span class="n">col</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// if intersection, draw color
</span><span class="c1"></span>        <span class="n">col</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="n">uv</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">uv</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">gl_FragColor</span> <span class="o">=</span> <span class="n">vec4</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

        
          <div class="blog-tags">
            
              <a href="https://romero.dev/tags/graphics/">Graphics</a>&nbsp;
            
              <a href="https://romero.dev/tags/opengl/">OpenGL</a>&nbsp;
            
              <a href="https://romero.dev/tags/shaders/">Shaders</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://romero.dev/graphics/particle-system/" data-toggle="tooltip" data-placement="top" title="Particle System">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://romero.dev/graphics/sharing-resources-between-directx-and-opengl/" data-toggle="tooltip" data-placement="top" title="Sharing Resources Between DirectX and OpenGL">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:mike@halogenica.net" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/halogenica" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/halogenica" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://reddit.com/u/halogenica" title="Reddit">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-reddit-alien fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/halogenica" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/user/angelkatalyst" title="Youtube">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://itch.io/profile/halogenica" title="Itch.io">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-gamepad fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Michael Romero
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2018
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://romero.dev">Halogenica</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.58.3</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://romero.dev/js/main.js"></script>
<script src="https://romero.dev/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://romero.dev/js/load-photoswipe.js"></script>









    
  </body>
</html>

